<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Administraci贸n de Turnos</title>
    <link rel="icon" href="imagenes/favicon1.ico" type="image/x-icon">
    <link rel="stylesheet" href="bootstrap/css/bootstrap.min.css">
    <link rel="stylesheet" href="css/estilos.css">
    <link rel="stylesheet" href="css/formularios.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Poetsen+One&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/all.min.css">
    <link href="https://cdn.jsdelivr.net/npm/tom-select@2.2.2/dist/css/tom-select.bootstrap5.min.css" rel="stylesheet" />
    <script>
        const token = sessionStorage.getItem("accessToken"); 
        if (!token) {
          alert("Acceso no autorizado. Debe iniciar sesi贸n.");
          window.location.href = "login.html"; 
        }
    </script>
</head>

<body>
    <header class="navbar navbar-expand-lg">
        <div class="container-fluid">

            <!-- Logo + T铆tulo -->
            <a href="inicio.html" class="logo d-flex flex-column align-items-center text-center text-decoration-none">
                <img src="imagenes/logo_sin_fondo.png" alt="Logo de la p谩gina">
                <h1>Centro Integral de Salud Infantil</h1>
            </a>

            <!-- Bot贸n hamburguesa -->
            <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#menuNav" aria-controls="menuNav" aria-expanded="false" aria-label="Toggle navigation">
                <span class="navbar-toggler-icon"></span>
            </button>

            <!-- Men煤 de navegaci贸n interno (admin)-->
            <nav class="collapse navbar-collapse" id="menuNav">
                <ul class="navbar-nav ms-auto">
                    <li class="nav-item"><a href="medicos.html" class="nav-link">M茅dicos</a></li>
                    <li class="nav-item"><a href="admin-usuarios.html" class="nav-link">Usuarios</a></li>
                    <li class="nav-item"><a href="admin-turnos.html" class="nav-link active">Turnos</a></li>
                    <li class="nav-item"><a href="admin-reservas.html" class="nav-link">Reservas</a></li>
                     <li class="nav-item"><a href="admin-obras-sociales.html" class="nav-link">Obras Sociales</a></li>
                    <li class="nav-item"><a href="admin-especialidades.html" class="nav-link">Especialidades</a></li>
                    <li class="nav-item">
                      <a href="#" class="nav-link" id = logoutBtn>
                        <i class="fas fa-sign-out-alt"></i> Salida
                      </a>
                    </li>
                </ul>
            </nav>
        </div>
    </header>

    <main class="container py-4">
        <h2 class="text-center mb-4 text-success">Administraci贸n de Turnos M茅dicos</h2>

        <section class="card p-4 mb-5">
          <h4 class="card-header bg-verde text-negrita">Registrar Nuevo Turno</h4>
          <form id="formTurnoAdmin" class="row g-3">
            <div class="col-md-4">
              <label for="medicoSelectAdmin" class="form-label">M茅dico</label>
              <select id="medicoSelectAdmin" class="form-select" required></select>
            </div>
            <div class="col-md-4">
              <label for="fechaHoraTurno" class="form-label">Fecha y Hora</label>
              <input type="datetime-local" id="fechaHoraTurno" class="form-control" required>
            </div>
            <div class="col-md-4 d-flex align-items-end">
              <button type="submit" class="btn btn-verde w-100">Registrar Turno</button>
            </div>
          </form>
        </section>

        <section class="card p-4">
          <h4 class="card-header bg-verde text-negrita">Turnos Registrados</h4>
          <table class="table table-bordered mt-3 table-verde" id="tablaTurnos">
            <thead>
              <tr>
                <th>ID-T</th>
                <th>ID-M茅dico</th>
                <th>M茅dico</th>
                <th>Fecha y Hora</th>
                <th>Disponible</th>
                <th>Acciones</th>
              </tr>
            </thead>
            <tbody></tbody>
          </table>
        </section>
      </main>

      <footer class="footer">
        <div class="footer-content">
            <div class="footer-left">
                <img src="imagenes/logo_sin_fondo.png" alt="Logo Vita Kids" class="logo-footer">
                <h3><strong>Centro Integral de Salud Infantil </strong></h3>
                <p>Av. San Mart铆n 123, CABA, Argentina</p>
            </div>
            <div class="iconos-contacto">
                <a href="mailto:consultas@vitakids.com" aria-label="Correo electr贸nico"><i class="fas fa-envelope"></i></a> 
                <a href="#" target="_blank" aria-label="Facebook"><i class="fab fa-facebook-f"></i></a>
                <a href="#" target="_blank" aria-label="Instagram"><i class="fab fa-instagram"></i></a>
                <a href="#" target="_blank" aria-label="Whatsapp"><i class="fab fa-whatsapp"></i></a>
            </div>
        </div>

        <div>
          <p>&copy; 2025 Vita Kids S.A - Todos los derechos reservados.</p>
        </div>
    </footer> 

    <script src="bootstrap/js/bootstrap.bundle.min.js"></script>
    <!-- JS de Tom Select -->
    <script src="https://cdn.jsdelivr.net/npm/tom-select@2.3.1/dist/js/tom-select.complete.min.js"></script>

    <script type="module" src="js/admin-turnos.js"></script>

     <script>
        document.getElementById('logoutBtn').addEventListener('click', (e) => {
            e.preventDefault();
            // Eliminar el token de sesi贸n
            sessionStorage.removeItem('accessToken');
            sessionStorage.removeItem('usuarioNombre'); 
            alert('Sesi贸n cerrada. Ser谩s redirigido al inicio.');
            // Redirigir al login o al inicio
            window.location.href = 'inicio.html'; 
        });
    </script>
</body>
</html>